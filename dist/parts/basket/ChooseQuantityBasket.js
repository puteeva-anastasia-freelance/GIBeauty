!function(){"use strict";class e{constructor(e){this.minusButtons=[],this.plusButtons=[],this.inputElems=[];for(let t=0;t<e.length;t++)this.minusButtons[t]=e[t].querySelectorAll(".choose-quantity__button.minus"),this.plusButtons[t]=e[t].querySelectorAll(".choose-quantity__button.plus"),this.inputElems[t]=e[t].querySelectorAll(".choose-quantity__input")}addControlsEventListeners(t){for(let e=0;e<t.length;e++)this.minusButtons[e].forEach(t=>{t.addEventListener("click",t=>{this.addBtnClickListeners(t,e)})}),this.plusButtons[e].forEach(t=>{t.addEventListener("click",t=>{this.addBtnClickListeners(t,e)})}),this.inputElems[e].forEach(t=>{t.addEventListener("keypress",t=>{this.allowsOnlyDigitsToEnter(t)}),t.addEventListener("change",t=>{this.changeValueInput(t,e)}),t.addEventListener("input",t=>{this.inputValueInput(t,e)})})}inputValueInput(e,t){this.inputElems[t].forEach(t=>{t.value=e.target.value})}changeValueInput(e,t){""!=e.target.value&&0!=e.target.value||this.inputElems[t].forEach(t=>{t.value=1}),e.target.value>+e.target.dataset.maxCount&&this.inputElems[t].forEach(t=>{t.value=e.target.dataset.maxCount})}allowsOnlyDigitsToEnter(t){!isNaN(t.key)&&" "!=t.key||t.preventDefault()}addBtnClickListeners(t,e){t=t.currentTarget;let s=1;0!=+this.inputElems[e][0].dataset.maxCount&&(t.classList.contains("minus")?(s=+this.inputElems[e][0].value-1)<1&&(s=1):t.classList.contains("plus")&&(s=+this.inputElems[e][0].value+1)>+this.inputElems[e][0].dataset.maxCount&&(s=this.inputElems[e][0].dataset.maxCount),this.inputElems[e].forEach(t=>{t.value=s})),this.inputElems[e].forEach(t=>{t.dispatchEvent(new Event("input"))})}}window.addEventListener("load",()=>{var t=document.querySelectorAll(".basket__row");new e(t).addControlsEventListeners(t)})}();